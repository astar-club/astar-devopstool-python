<a id="astar_devopstool"></a>

# astar\_devopstool

<a id="astar_devopstool.common"></a>

# astar\_devopstool.common

<a id="astar_devopstool.connect"></a>

# astar\_devopstool.connect

<a id="astar_devopstool.connect.ftp_put"></a>

#### ftp\_put

```python
def ftp_put(file_from,
            file_to,
            host: str,
            port=22,
            username='root',
            password='admin',
            buffer_size=1024 * 8)
```

ftp发送文件

**Arguments**:

- `file_from`: 
- `file_to`: 
- `host`: 
- `port`: 
- `username`: 
- `password`: 
- `buffer_size`: 

<a id="astar_devopstool.connect.sftp_put"></a>

#### sftp\_put

```python
def sftp_put(file_from,
             file_to,
             host: str,
             port=22,
             username='root',
             password='admin')
```

ftp发送文件

**Arguments**:

- `file_from`: 
- `file_to`: 
- `host`: 
- `port`: 
- `username`: 
- `password`: 

<a id="astar_devopstool.connect.sftp_get"></a>

#### sftp\_get

```python
def sftp_get(file_from,
             file_to,
             host: str,
             port=22,
             username='root',
             password='admin')
```

ftp获得文件

**Arguments**:

- `file_from`: 
- `file_to`: 
- `host`: 
- `port`: 
- `username`: 
- `password`: 

<a id="astar_devopstool.dev._develop"></a>

# astar\_devopstool.dev.\_develop

<a id="astar_devopstool.dev"></a>

# astar\_devopstool.dev

/***************************************************************************
 AutoSplineDialog
                                 A QGIS plugin
 spline points
 Generated by Plugin Builder: http://g-sherman.github.io/Qgis-Plugin-Builder/
                             -------------------
        begin                : 
        git sha              : :%H$
        copyright            : (C) 2021 by XiaolongChen
        email                : chenxiaolong@mogoauto.com
 ***************************************************************************/

/***************************************************************************
 *                                                                         *
 *   This program is free software; you can redistribute it and/or modify  *
 *   it under the terms of the GNU General Public License as published by  *
 *   the Free Software Foundation; either version 2 of the License, or     *
 *   (at your option) any later version.                                   *
 *                                                                         *
 ***************************************************************************/

<a id="astar_devopstool.emailtool"></a>

# astar\_devopstool.emailtool

<a id="astar_devopstool.emailtool.send_mail"></a>

#### send\_mail

```python
def send_mail(username,
              passwd,
              recv,
              title,
              content,
              mail_host='smtp.ym.163.com',
              port=25,
              *,
              cc=None,
              attachment_file: Union[List[bytes], Tuple[bytes], bytes] = None,
              attachment_name: Union[List[str], Tuple[str], str] = None)
```

发送邮件函数，默认使用163smtp

**Arguments**:

- `mail_host`: 邮箱服务器，16邮箱host: smtp.163.com
- `port`: 端口号,163邮箱的默认端口是 25
- `username`: 邮箱账号 xx@163.com
- `passwd`: 邮箱密码(不是邮箱的登录密码，是邮箱的授权码)
- `recv`: 邮箱接收人地址str or list，多个账号以逗号隔开
- `title`: 邮件标题
- `content`: 邮件内容
- `cc`: 抄送，格式与recv一致
- `attachment_file`: 附件内容,可以是列表，元祖或者字节格式，若为字节格式，则仅能单附件， default None，表示没有附件
- `attachment_name`: 附件名，可以是列表，元祖或者字符串格式，若为字符串格式，则仅能单附件， default None，表示没有附件

<a id="astar_devopstool.exception"></a>

# astar\_devopstool.exception

<a id="astar_devopstool.exception.EmailError"></a>

## EmailError Objects

```python
class EmailError(ValueError)
```

邮件异常类

<a id="astar_devopstool.ftphelper._ftphelper"></a>

# astar\_devopstool.ftphelper.\_ftphelper

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool"></a>

## FTPTool Objects

```python
class FTPTool()
```

ftp自动下载、自动上传脚本，可以递归目录操作
作者：欧阳鹏
博客地址：http://blog.csdn.net/ouyang_peng/article/details/79271113

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.__init__"></a>

#### \_\_init\_\_

```python
def __init__(host,
             port=21,
             user='',
             passwd='',
             acct='',
             timeout=socket._GLOBAL_DEFAULT_TIMEOUT,
             source_address=None,
             encoding='gbk',
             log_file='',
             log_flag=False)
```

**Arguments**:

- `host`: 
- `port`: 
- `user`: 
- `passwd`: 
- `acct`: 
- `timeout`: 
- `source_address`: 
- `encoding`: 
- `log_file`: 
- `log_flag`: 

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.login"></a>

#### login

```python
def login(username, password, acct='')
```

初始化 FTP 客户端
参数:
      username: 用户名

     password: 密码

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.is_same_size"></a>

#### is\_same\_size

```python
def is_same_size(local_file, remote_file)
```

判断远程文件和本地文件大小是否一致

参数:
  local_file: 本地文件

  remote_file: 远程文件

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.download_file"></a>

#### download\_file

```python
def download_file(local_file, remote_file)
```

从ftp下载文件
参数:
    local_file: 本地文件

    remote_file: 远程文件

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.download_file_tree"></a>

#### download\_file\_tree

```python
def download_file_tree(local_path, remote_path)
```

从远程目录下载多个文件到本地目录
参数:
  local_path: 本地路径

  remote_path: 远程路径

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.upload_file"></a>

#### upload\_file

```python
def upload_file(local_file, remote_file, buf_size=1024)
```

从本地上传文件到ftp

参数:
  local_path: 本地文件

  remote_path: 远程文件

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.upload_file_tree"></a>

#### upload\_file\_tree

```python
def upload_file_tree(local_path, remote_path)
```

从本地上传目录下多个文件到ftp
参数:

  local_path: 本地路径

  remote_path: 远程路径

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.close"></a>

#### close

```python
def close()
```

退出ftp

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.debug_print"></a>

#### debug\_print

```python
def debug_print(s)
```

打印日志

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.deal_error"></a>

#### deal\_error

```python
def deal_error(e)
```

处理错误异常
参数：
    e：异常

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.write_log"></a>

#### write\_log

```python
def write_log(log_str)
```

记录日志
参数：
    log_str：日志

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.get_file_list"></a>

#### get\_file\_list

```python
def get_file_list(line)
```

获取文件列表
参数：
    line：

<a id="astar_devopstool.ftphelper._ftphelper.FTPTool.get_file_name"></a>

#### get\_file\_name

```python
def get_file_name(line)
```

获取文件名
参数：
    line：

<a id="astar_devopstool.ftphelper"></a>

# astar\_devopstool.ftphelper

<a id="astar_devopstool.gitlabhelper._gitlabhelper"></a>

# astar\_devopstool.gitlabhelper.\_gitlabhelper

<a id="astar_devopstool.gitlabhelper._gitlabhelper.Gitlab"></a>

## Gitlab Objects

```python
class Gitlab(PyGitlab)
```

<a id="astar_devopstool.gitlabhelper._gitlabhelper.Gitlab.statistical_submission"></a>

#### statistical\_submission

```python
def statistical_submission(start_time: (str, datetime.datetime) = '2021-02-20',
                           end_time: (str, datetime.datetime) = None,
                           projects=None,
                           branches=None)
```

统计提交

**Arguments**:

- `start_time`: 
- `print_file`: 
- `file_name`: 
- `encoding`: 
- `projects`: 
- `branches`: 

<a id="astar_devopstool.gitlabhelper"></a>

# astar\_devopstool.gitlabhelper

<a id="astar_devopstool.host"></a>

# astar\_devopstool.host

<a id="astar_devopstool.host.get_dist_status"></a>

#### get\_dist\_status

```python
def get_dist_status()
```

得到磁盘使用情况


<a id="astar_devopstool.host.get_web_status"></a>

#### get\_web\_status

```python
def get_web_status(URL="www.snowland.ltd")
```

该脚本可以定位访问web页面的服务质量

通过Python下的pycurl模块来实现定位
它可以通过调用pycurl提供的方法，来探测Web服务质量
比如了解相应的HTTP状态码、请求延时、HTTP头信息、下载速度等

**Arguments**:

- `URL`: 探测目标URL

<a id="astar_devopstool.host.get_web_status_report"></a>

#### get\_web\_status\_report

```python
def get_web_status_report(HTTP_CODE, NAMELOOKUP_TIME, CONNECT_TIME,
                          PRETRANSFER_TIME, STARTTRANSFER_TIME, TOTAL_TIME,
                          SIZE_DOWNLOAD, HEADER_SIZE, SPEED_DOWNLOAD)
```

**Arguments**:

- `HTTP_CODE`: HTTP状态码
- `NAMELOOKUP_TIME`: DNS解析时间
- `CONNECT_TIME`: 建立连接时间
- `PRETRANSFER_TIME`: 准备传输时间
- `STARTTRANSFER_TIME`: 传输开始时间
- `TOTAL_TIME`: 传输结束总时间
- `SIZE_DOWNLOAD`: 下载数据包大小
- `HEADER_SIZE`: HTTP头大小
- `SPEED_DOWNLOAD`: 下载速度

**Returns**:

格式化的字符串

<a id="astar_devopstool.host.get_cpu_status"></a>

#### get\_cpu\_status

```python
def get_cpu_status()
```

CPU信息

**Returns**:

CPU逻辑数量, CPU物理核心, CPU当前使用率

<a id="astar_devopstool.host.get_memory_status"></a>

#### get\_memory\_status

```python
def get_memory_status()
```

\

内存信息

**Returns**:

系统总计内存、 系统已经使用内存、 系统空闲内存、 swap内存信息

<a id="astar_devopstool.host.get_dist_usage"></a>

#### get\_dist\_usage

```python
def get_dist_usage()
```

得到硬盘使用

<a id="astar_devopstool.host.get_net_io_conters"></a>

#### get\_net\_io\_conters

```python
def get_net_io_conters(pernic=True)
```

得到网络信息

<a id="astar_devopstool.host.get_mac_address"></a>

#### get\_mac\_address

```python
def get_mac_address()
```

获取mac地址

<a id="astar_devopstool.ip"></a>

# astar\_devopstool.ip

<a id="astar_devopstool.ip.__author__"></a>

#### \_\_author\_\_

__Title   : setRegProxy__

__Author  : Solomon Xie__

__Utility : Via Registry key of windows, change proxy settings of IE on Windows.__

__Require : Python 2.x, Windows 7__

__Reg Path: HKUC\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections__

__Anlysis : 注册表的二进制值(及关键信息)如下："46 00 00 00 00 00 00 00 开关 00 00 00 IP长度 00 00 00 IP地址 00 00 00 是否跳过本地代理 21 00 00 00 PAC地址"__

__Method  : 通过在cmd中导入reg文件的方式执行并立即生效。__

__Notes   : - 二进制值的设置选项在代码中已经体现了。本代码可以根据需要自动设置代理。__

__switcher: 开关：0F全部开启(ALL)；01全部禁用(Off)__

            03使用代理服务器(ProxyOnly)；05使用自动脚本(PacOnly)；
            07使用脚本和代理(ProxyAndPac)；09自动检测设置(D)；
            0B自动检测并使用代理(DIP)；0D自动检测并使用脚本(DS)；

<a id="astar_devopstool.ip.regIESettings"></a>

#### regIESettings

```python
def regIESettings(op,
                  noLocal=False,
                  ip='',
                  pac='http://xduotai.com/pRsO3NGR3-.pac')
```

根据需求生成Windows代理设置注册表的.reg文件内容
DefaultConnectionSettings项是二进制项
而具体这个二进制文件怎么解析，在收藏的PDF中有详细解释。

<a id="astar_devopstool.ip.get_local_ip_by_socket"></a>

#### get\_local\_ip\_by\_socket

```python
def get_local_ip_by_socket()
```

获取本地IP(通过socket)


<a id="astar_devopstool.ip.get_ip_address_by_fcntl"></a>

#### get\_ip\_address\_by\_fcntl

```python
def get_ip_address_by_fcntl(ifname='eth0')
```

通过fcntl获取IP

**Arguments**:

- `ifname`: 

<a id="astar_devopstool.test.test_version"></a>

# astar\_devopstool.test.test\_version

<a id="astar_devopstool.test.test_version.TestVersion"></a>

## TestVersion Objects

```python
class TestVersion(TestCase)
```

<a id="astar_devopstool.test.test_version.TestVersion.test_docs"></a>

#### test\_docs

```python
def test_docs()
```

测试能否正常输出


<a id="astar_devopstool.test"></a>

# astar\_devopstool.test

<a id="astar_devopstool.version_announcement._report"></a>

# astar\_devopstool.version\_announcement.\_report

<a id="astar_devopstool.version_announcement._report.version_release_announcement_template"></a>

#### version\_release\_announcement\_template

```python
def version_release_announcement_template(data_dict: dict,
                                          print_file=True,
                                          file_name=None,
                                          title=None,
                                          content='',
                                          *,
                                          encoding='utf-8') -> str
```

发布通告模板

**Arguments**:

- `data_dict`: 
- `print_file`: 
- `file_name`: 
- `encoding`: 

<a id="astar_devopstool.version_announcement._report.generate_readme_template_md"></a>

#### generate\_readme\_template\_md

```python
def generate_readme_template_md(project_name,
                                pypi_name=None,
                                print_file=True,
                                file_name=None,
                                gitee=None,
                                github=None,
                                gitee_name=None,
                                github_name=None,
                                gitee_url=None,
                                github_url=None,
                                *,
                                encoding='utf-8')
```

生成readme模板

**Arguments**:

- `project_name`: 项目名称
- `pypi_name`: pypi名称
- `print_file`: 是否打印出文件
- `file_name`: 文件名
- `gitee`: 有无gitee仓库
- `github`: 有无gitee仓库
- `gitee_name`: gitee仓库名
- `github_name`: github仓库名
- `gitee_url`: 
- `github_url`: 

<a id="astar_devopstool.version_announcement._report.generate_readme_template_rst"></a>

#### generate\_readme\_template\_rst

```python
def generate_readme_template_rst(project_name,
                                 pypi_name=None,
                                 print_file=True,
                                 file_name=None,
                                 gitee=None,
                                 github=None,
                                 gitee_name: str = None,
                                 github_name: str = None,
                                 gitee_url: str = None,
                                 github_url: str = None,
                                 *,
                                 encoding='utf-8')
```

生成readme模板

**Arguments**:

- `project_name`: 项目名称
- `pypi_name`: pypi名称
- `print_file`: 是否打印出文件
- `file_name`: 文件名
- `gitee`: 有无gitee仓库
- `github`: 有无gitee仓库
- `gitee_name`: gitee仓库名
- `github_name`: github仓库名
- `gitee_url`: 
- `github_url`: 

<a id="astar_devopstool.version_announcement._version"></a>

# astar\_devopstool.version\_announcement.\_version

<a id="astar_devopstool.version_announcement"></a>

# astar\_devopstool.version\_announcement

